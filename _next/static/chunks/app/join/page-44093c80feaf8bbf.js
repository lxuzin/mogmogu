(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[532],{84278:function(e,o,t){Promise.resolve().then(t.bind(t,72577))},39023:function(e,o,t){"use strict";t.r(o),t.d(o,{JoinContextProvider:function(){return c},default:function(){return r}});var a=t(57437),s=t(2265);let n=(0,s.createContext)({}),c=e=>{let{children:o}=e,[t,c]=(0,s.useState)(1),[r,i]=(0,s.useState)({name:"",myImg:null,birthday:new Date,phone:"",nickname:"",password:"",password2:"",myCode:"",yourCode:"",avgcostpermonth:0,avgnumpermonth:0,coupleStartDate:new Date});return(0,a.jsx)(n.Provider,{value:{user:r,setUser:i,formNum:t,setFormNum:c},children:o})};function r(){return(0,s.useContext)(n)}},72577:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return j}});var a=t(57437),s=t(80428),n=t.n(s),c=t(39023),r=t(2265);function i(){let{user:e,setUser:o}=(0,c.default)(),[t,s]=(0,r.useState)(null),[i,d]=(0,r.useState)(""),l=e=>{let o=e.name.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif"].includes(o)},x=()=>{o({...e,myImg:t})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-8b68ba21be3210f2 joinUp",children:[(0,a.jsx)("div",{className:"jsx-8b68ba21be3210f2 joinLogoImg",children:(0,a.jsx)("img",{src:"/join/pingHeartLogo.png",alt:"#",className:"jsx-8b68ba21be3210f2"})}),(0,a.jsxs)("div",{className:"jsx-8b68ba21be3210f2 joinborderbar",children:[(0,a.jsx)("div",{className:"jsx-8b68ba21be3210f2 joinProfImg",children:(0,a.jsx)("img",{src:"/join/profileSample.png",alt:"#",className:"jsx-8b68ba21be3210f2"})}),(0,a.jsxs)("label",{onChange:e=>{let o=e.target.files[0];if(o&&l(o)){let e=new FileReader;e.onload=e=>{s(e.target.result),d("파일을 성공적으로 업로드했습니다.")},e.onerror=()=>{d("파일을 업로드하는데 오류가 있습니다.")}}else d("파일을 선택해주세요."),s(null);x()},className:"jsx-8b68ba21be3210f2 joinCameraBtn",children:[(0,a.jsx)("input",{type:"file",style:{display:"none"},className:"jsx-8b68ba21be3210f2"}),(0,a.jsx)("img",{src:null===t?"/join/cameraBtn.png":t,alt:"Selected",className:"jsx-8b68ba21be3210f2"})]})]})]}),(0,a.jsx)(n(),{id:"8b68ba21be3210f2",children:".joinUp.jsx-8b68ba21be3210f2{background-color:white;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.jointopbar.jsx-8b68ba21be3210f2{background-color:#eadeef;color:white;width:100%;height:42px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.joinLogoImg.jsx-8b68ba21be3210f2{margin-top:70px;margin-bottom:70px;text-align:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.joinborderbar.jsx-8b68ba21be3210f2{width:100%;height:70px;background-color:#c998dc;position:relative}.joinProfImg.jsx-8b68ba21be3210f2{width:82px;height:82px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-100%);-moz-transform:translate(-50%,-100%);-ms-transform:translate(-50%,-100%);-o-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.joinCameraBtn.jsx-8b68ba21be3210f2{width:40px;height:25px;background-color:white;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;margin-top:3px;text-align:center;-webkit-border-radius:35%;-moz-border-radius:35%;border-radius:35%;border-color:white;position:absolute;top:50%;left:53%;-webkit-transform:translate(0,-100%);-moz-transform:translate(0,-100%);-ms-transform:translate(0,-100%);-o-transform:translate(0,-100%);transform:translate(0,-100%)}"})]})}function d(){let{user:e,setUser:o,formNum:t,setFormNum:s}=(0,c.default)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"jsx-7c06d67e38373ced joinDown",children:(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),o({...e,name:t.target.name.value,birthday:t.target.birthday.value,phone:t.target.phone.value,nickname:t.target.nickname.value,password:t.target.password.value,password2:t.target.password2.value}),s(2)},className:"jsx-7c06d67e38373ced joinForm",children:[(0,a.jsxs)("div",{className:"jsx-7c06d67e38373ced joinFormOne",children:[(0,a.jsx)("label",{htmlFor:"name",className:"jsx-7c06d67e38373ced joinLabel",children:"이름 "}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",autoComplete:"off",className:"jsx-7c06d67e38373ced joinInput"}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"})]}),(0,a.jsxs)("div",{className:"jsx-7c06d67e38373ced joinFormOne",children:[(0,a.jsx)("label",{htmlFor:"birthday",className:"jsx-7c06d67e38373ced joinLabel",children:"생년월일 "}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"}),(0,a.jsx)("input",{type:"date",id:"birthday",name:"birthday",autoComplete:"off",className:"jsx-7c06d67e38373ced joinInput"}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"})]}),(0,a.jsxs)("div",{className:"jsx-7c06d67e38373ced joinFormOne",children:[(0,a.jsx)("label",{htmlFor:"phone",className:"jsx-7c06d67e38373ced joinLabel",children:"전화번호 "}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"}),(0,a.jsx)("input",{type:"text",id:"phone",name:"phone",autoComplete:"off",className:"jsx-7c06d67e38373ced joinInput"}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"})]}),(0,a.jsxs)("div",{className:"jsx-7c06d67e38373ced joinFormOne",children:[(0,a.jsx)("label",{htmlFor:"nickname",className:"jsx-7c06d67e38373ced joinLabel",children:"아이디 "}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"}),(0,a.jsx)("input",{type:"text",id:"nickname",name:"nickname",autoComplete:"off",className:"jsx-7c06d67e38373ced joinInput"}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"})]}),(0,a.jsxs)("div",{className:"jsx-7c06d67e38373ced joinFormOne",children:[(0,a.jsx)("label",{htmlFor:"password",className:"jsx-7c06d67e38373ced joinLabel",children:"비밀번호 "}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",autoComplete:"off",className:"jsx-7c06d67e38373ced joinInput"}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"})]}),(0,a.jsxs)("div",{className:"jsx-7c06d67e38373ced joinFormOne",children:[(0,a.jsx)("label",{htmlFor:"password2",className:"jsx-7c06d67e38373ced joinLabel",children:"비밀번호 확인 "}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"}),(0,a.jsx)("input",{type:"password",id:"password2",name:"password2",autoComplete:"off",className:"jsx-7c06d67e38373ced joinInput"}),(0,a.jsx)("br",{className:"jsx-7c06d67e38373ced"})]}),(0,a.jsx)("div",{className:"jsx-7c06d67e38373ced joinBtnDiv",children:(0,a.jsx)("button",{type:"submit",className:"jsx-7c06d67e38373ced joinBtn",children:"다음"})})]})}),(0,a.jsx)(n(),{id:"7c06d67e38373ced",children:".joinDown.jsx-7c06d67e38373ced{background-color:white}.joinForm.jsx-7c06d67e38373ced{background-color:white;margin:35px;text-align:start}.joinFormOne.jsx-7c06d67e38373ced{margin-top:20px;border-bottom:solid 1px}.joinLabel.jsx-7c06d67e38373ced{color:#c998dc;margin-top:5px}.joinInput.jsx-7c06d67e38373ced{color:black;border:none;width:100%;height:30px;margin-top:5px}.joinBtnDiv.jsx-7c06d67e38373ced{text-align:center;width:100%}.joinBtn.jsx-7c06d67e38373ced{background-color:#c998dc;color:white;border-color:white;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;width:70%;min-height:35px;margin-top:15px}"})]})}function l(){let{user:e,setUser:o,formNum:t,setFormNum:s}=(0,c.default)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"jsx-c8e7d490b84cca5d joinDown",children:(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),o({...e,avgcostpermonth:t.target.avgcostpermonth.value,avgnumpermonth:t.target.avgnumpermonth.value,coupleStartDate:t.target.coupleStartDate.value}),s(3)},className:"jsx-c8e7d490b84cca5d joinForm",children:[(0,a.jsxs)("div",{className:"jsx-c8e7d490b84cca5d joinFormOne",children:[(0,a.jsx)("label",{htmlFor:"coupleStartDate",className:"jsx-c8e7d490b84cca5d joinLabel",children:"사귄 날짜를 입력하세요"}),(0,a.jsx)("br",{className:"jsx-c8e7d490b84cca5d"}),(0,a.jsx)("input",{type:"date",id:"coupleStartDate",name:"coupleStartDate",autoComplete:"off",className:"jsx-c8e7d490b84cca5d joinInput"}),(0,a.jsx)("br",{className:"jsx-c8e7d490b84cca5d"})]}),(0,a.jsxs)("div",{className:"jsx-c8e7d490b84cca5d joinFormOne",children:[(0,a.jsx)("label",{htmlFor:"avgcostpermonth",className:"jsx-c8e7d490b84cca5d joinLabel",children:"한달 평균 데이트 비용 "}),(0,a.jsx)("br",{className:"jsx-c8e7d490b84cca5d"}),(0,a.jsx)("input",{type:"text",id:"avgcostpermonth",name:"avgcostpermonth",autoComplete:"off",className:"jsx-c8e7d490b84cca5d joinInput"}),(0,a.jsx)("span",{className:"jsx-c8e7d490b84cca5d",children:"만원"}),(0,a.jsx)("br",{className:"jsx-c8e7d490b84cca5d"})]}),(0,a.jsxs)("div",{className:"jsx-c8e7d490b84cca5d joinFormOne",children:[(0,a.jsx)("label",{htmlFor:"avgnumpermonth",className:"jsx-c8e7d490b84cca5d joinLabel",children:"한달 평균 데이트 회수 "}),(0,a.jsx)("br",{className:"jsx-c8e7d490b84cca5d"}),(0,a.jsx)("input",{type:"number",id:"avgnumpermonth",name:"avgnumpermonth",autoComplete:"off",className:"jsx-c8e7d490b84cca5d joinInput"}),(0,a.jsx)("span",{className:"jsx-c8e7d490b84cca5d",children:"번"}),(0,a.jsx)("br",{className:"jsx-c8e7d490b84cca5d"})]}),(0,a.jsx)("div",{className:"jsx-c8e7d490b84cca5d joinBtnDiv",children:(0,a.jsx)("button",{type:"submit",className:"jsx-c8e7d490b84cca5d joinBtn",children:"다음"})})]})}),(0,a.jsx)(n(),{id:"c8e7d490b84cca5d",children:".joinForm.jsx-c8e7d490b84cca5d{background-color:white;margin:35px;text-align:start;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.joinFormOne.jsx-c8e7d490b84cca5d{border-bottom:solid 1px;width:70%;margin-top:5%;margin-bottom:5%;font-weight:bolder}.joinLabel.jsx-c8e7d490b84cca5d{color:#c998dc;margin-bottom:10%;font-size:100%}.joinInput.jsx-c8e7d490b84cca5d{background:none;border:none;color:inherit;text-align:center;margin-top:10%;width:80%;font-size:150%}.joinBtnDiv.jsx-c8e7d490b84cca5d{text-align:center;width:100%}.joinBtn.jsx-c8e7d490b84cca5d{background-color:#c998dc;color:white;border-color:white;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;width:70%;min-height:35px;margin-top:15px}"})]})}var x=t(24033),b=t(62601);function m(){let{user:e,setUser:o,formNum:t,setFormNum:s}=(0,c.default)(),r=(0,x.useRouter)(),i=async t=>{t.preventDefault(),o({...e,myCode:t.target.myCode.value,yourCode:t.target.yourCode.value}),await d()},d=async o=>{let t={nickname:e.nickname,password:e.password,monthCost:e.avgcostpermonth,monthDateCnt:e.avgnumpermonth,coupleStartDate:e.coupleStartDate},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};try{let e=await fetch(b.env.NEXT_PUBLIC_API_URL+"users",a);if(!e.ok)throw Error("Bad response",{cause:{resp:e}});await e.json(),s(1),alert("회원가입을 축하합니다."),r.push("/home")}catch(e){s(3),alert("회원가입에 실패하였습니다. 정보를 확인하세요"),r.refresh()}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"jsx-9bfd9f73162090dc joinConnectDiv",children:(0,a.jsxs)("form",{onSubmit:i,className:"jsx-9bfd9f73162090dc",children:[(0,a.jsxs)("div",{className:"jsx-9bfd9f73162090dc joinMyConnect",children:[(0,a.jsx)("label",{htmlFor:"myCode",className:"jsx-9bfd9f73162090dc joinMyConnectLabel",children:"내 커플연결 코드"}),(0,a.jsx)("br",{className:"jsx-9bfd9f73162090dc"}),(0,a.jsx)("input",{type:"text",id:"myCode",name:"myCode",defaultValue:"12345678",className:"jsx-9bfd9f73162090dc joinMyConnectInput"}),(0,a.jsx)("br",{className:"jsx-9bfd9f73162090dc"}),(0,a.jsx)("label",{htmlFor:"myCode",className:"jsx-9bfd9f73162090dc joinMyConnectLabel2",children:"24시간 내에 연결하지 못하면 초기화 됩니다."}),(0,a.jsx)("br",{className:"jsx-9bfd9f73162090dc"}),(0,a.jsx)("button",{className:"jsx-9bfd9f73162090dc joinMyConnectBtn",children:"공유"}),(0,a.jsx)("br",{className:"jsx-9bfd9f73162090dc"})]}),(0,a.jsxs)("div",{className:"jsx-9bfd9f73162090dc joinYourConnect",children:[(0,a.jsx)("label",{htmlFor:"yourCode",className:"jsx-9bfd9f73162090dc joinYourConnectLabel",children:"상대방 커플연결 코드"}),(0,a.jsx)("br",{className:"jsx-9bfd9f73162090dc"}),(0,a.jsx)("input",{type:"text",id:"yourCode",name:"yourCode",defaultValue:"",placeholder:"상대방 코드를 입력해주세요.",autoComplete:"off",className:"jsx-9bfd9f73162090dc joinYourConnectInput"}),(0,a.jsx)("br",{className:"jsx-9bfd9f73162090dc"})]}),(0,a.jsx)("div",{className:"jsx-9bfd9f73162090dc joinBtnDiv",children:(0,a.jsx)("button",{type:"submit",className:"jsx-9bfd9f73162090dc joinBtn",children:"다음"})})]})}),(0,a.jsx)(n(),{id:"9bfd9f73162090dc",children:".joinConnectDiv.jsx-9bfd9f73162090dc{background-color:white;margin-top:40%;margin-bottom:30px}.joinMyConnect.jsx-9bfd9f73162090dc{text-align:center;margin-top:5px;margin-bottom:5px}.joinMyConnectLabel.jsx-9bfd9f73162090dc{color:#c998dc;font-weight:bold;margin-bottom:15px;font-size:large}.joinMyConnectInput.jsx-9bfd9f73162090dc{-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;text-align:center;font-weight:bolder;font-size:larger;width:70%;border-color:#c998dc;color:#909090}.joinMyConnectBtn.jsx-9bfd9f73162090dc{background-color:#c998dc;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;border-color:white;color:white;margin-top:10px;font-size:large}.joinMyConnectLabel2.jsx-9bfd9f73162090dc{font-size:small;color:#909090}.joinYourConnect.jsx-9bfd9f73162090dc{text-align:center;margin-top:35px;margin-bottom:5px}.joinYourConnectLabel.jsx-9bfd9f73162090dc{color:#c998dc;font-weight:bold;margin-bottom:15px;font-size:large}.joinYourConnectInput.jsx-9bfd9f73162090dc{-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;text-align:center;font-weight:bolder;font-size:larger;width:70%;border-color:#c998dc;color:#909090;margin-bottom:10rem}.joinBtnDiv.jsx-9bfd9f73162090dc{text-align:center;width:100%}.joinBtn.jsx-9bfd9f73162090dc{background-color:#c998dc;color:white;border-color:white;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;width:70%;min-height:35px;margin-top:15px}"})]})}function j(e){let{user:o,formNum:t,setFormNum:s}=(0,c.default)(),r=(0,x.useRouter)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"jsx-ff88a74ac7e049bc joinbody",children:[(0,a.jsx)("div",{className:"jsx-ff88a74ac7e049bc jointopbar",children:"회원가입"}),1===t||2===t?(0,a.jsx)(i,{}):null,1===t?(0,a.jsx)(d,{}):2===t?(0,a.jsx)(l,{}):(0,a.jsx)(m,{}),(0,a.jsx)("div",{className:"jsx-ff88a74ac7e049bc joinBtnDiv",children:(0,a.jsx)("button",{onClick:()=>{r.push("/login")},className:"jsx-ff88a74ac7e049bc joinBtn",children:"취소"})})]}),(0,a.jsx)(n(),{id:"ff88a74ac7e049bc",children:".joinbody.jsx-ff88a74ac7e049bc{background-color:white;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jointopbar.jsx-ff88a74ac7e049bc{background-color:#eadeef;color:white;width:100%;height:42px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.joinBtnDiv.jsx-ff88a74ac7e049bc{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.joinBtn.jsx-ff88a74ac7e049bc{background-color:white;color:#c998dc;border-color:#c998dc;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;min-width:50px;min-height:50px}"})]})}},24033:function(e,o,t){e.exports=t(68165)}},function(e){e.O(0,[677,971,596,744],function(){return e(e.s=84278)}),_N_E=e.O()}]);