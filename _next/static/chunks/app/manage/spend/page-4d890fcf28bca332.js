(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[905],{32678:function(e,t,s){Promise.resolve().then(s.bind(s,31394))},31394:function(e,t,s){"use strict";s.r(t);var a=s(57437),n=s(2265),i=s(38227),r=s(16573),l=s(24235),o=s(50039),c=s(2047),d=s(83240),u=s(19223),x=s(29222),h=s(24033),D=s(62601);let g=["월","화","수","목","금","토","일"];t.default=()=>{(0,h.useRouter)();let[e,t]=(0,n.useState)([]),[s,f]=(0,n.useState)([]),[p,j]=(0,n.useState)(null),[y,k]=(0,n.useState)([]),m=e.reduce((e,t)=>e+t.cost,0),w=s.reduce((e,t)=>e+t.cost,0),v=w-m,C=e=>{let t=s.filter(t=>{let s=new Date(t.date);return s.getDay()===g.indexOf(e)});j(e),k(t)},b=async()=>{try{let e=await x.Z.get(D.env.NEXT_PUBLIC_API_URL+"account"),s=e.data,a=new Date,n=new Date(a);n.setDate(a.getDate()-13);let i=new Date(a);i.setDate(a.getDate()-7);let r=new Date(a);r.setDate(a.getDate()-6);let l=s.filter(e=>{let t=new Date(e.date);return t>=n&&t<=i}),o=s.filter(e=>{let t=new Date(e.date);return t>=r&&t<=a});t(l),f(o)}catch(e){console.error("Error fetching data:",e)}};(0,n.useEffect)(()=>{b()},[]);let W=(e,t,s)=>{let a={},n=new Date(e),i=new Date(t);for(;n<=i;n.setDate(n.getDate()+1)){let e=n.toLocaleString("en-US",{weekday:"short"});if(a[e]){let t=s.filter(e=>new Date(e.date).getDate()===n.getDate());a[e].cost+=t.reduce((e,t)=>e+t.cost,0)}else{let t=s.filter(e=>new Date(e.date).getDate()===n.getDate());a[e]={cost:t.reduce((e,t)=>e+t.cost,0)}}}return a},L=W("2023-08-06","2023-08-13",e),S=W("2023-08-14","2023-08-20",s),_=Object.keys(L).map(e=>{var t,s;return{day:e,lastWeekCost:L[e].cost,thisWeekCost:(null===(t=S[e])||void 0===t?void 0:t.cost)||0,lastWeekDifference:(null===(s=S[e])||void 0===s?void 0:s.cost)-L[e].cost||0}}),T=(e,t)=>{setSelectedDayData(_[t]);let s=y.reduce((e,t)=>e+t.thisWeekCost,0),a=y.reduce((e,t)=>e+t.lastWeekDifference,0);setThisWeekTotal(s),setDifference(a)};return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"80%",marginLeft:"1%",marginTop:"44%",position:"absolute",zIndex:"9999"},children:g.map(e=>(0,a.jsx)("button",{onClick:()=>{C(e),console.log(e)},style:{backgroundColor:"rgba(246, 246, 246, 0)",border:"none",padding:"6px 20px",display:"block",cursor:"pointer",height:"30px"}},e))}),(0,a.jsx)("div",{style:{marginTop:"12px",marginLeft:"12px"},children:(0,a.jsx)("img",{src:"../images/back.png"})}),(0,a.jsxs)("div",{style:{margin:"15px"},children:[(0,a.jsx)("p",{style:{font:"initial"},children:" | 일주일 지출 "}),(0,a.jsxs)(i.w,{width:495,height:270,data:_,margin:{top:8,right:30,left:12,bottom:10},children:[(0,a.jsx)(r.q,{strokeDasharray:"3 3"}),(0,a.jsx)(l.K,{dataKey:"day"}),(0,a.jsx)(o.B,{hide:!0}),(0,a.jsx)(c.u,{}),(0,a.jsx)(d.D,{}),(0,a.jsx)(u.x,{dataKey:"lastWeekCost",name:"Last Week",stroke:"lightgray",onClick:(e,t)=>T(e,t)}),(0,a.jsx)(u.x,{dataKey:"thisWeekCost",name:"This Week",stroke:"#C998DC",onClick:(e,t)=>T(e,t)})]}),(0,a.jsx)("hr",{})]}),(0,a.jsxs)("div",{style:{margin:"18px"},children:[(0,a.jsxs)("p",{children:[" ",w.toLocaleString(),"원 "]}),(0,a.jsxs)("p",{style:{color:"blue",font:"initial",marginBottom:"10px"},children:["지난주 대비 ",v.toLocaleString(),"원",v>=0?"\uD83D\uDD3C":"\uD83D\uDD3D"," "]}),(0,a.jsx)("hr",{})]}),(0,a.jsx)("div",{style:{margin:"20px"},children:(0,a.jsx)("h3",{children:(0,a.jsx)("span",{children:"상세내역"})})}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{children:y.map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{style:{display:"flex",marginLeft:"5%",marginTop:"2%",marginBottom:"2%",marginRight:"2%",justifyContent:"space-between"},children:[(0,a.jsx)("p",{children:e.name}),(0,a.jsxs)("p",{children:[e.cost,"원"]})]}),(0,a.jsx)("hr",{})]},t))})]})}},24033:function(e,t,s){e.exports=s(68165)}},function(e){e.O(0,[637,566,971,596,744],function(){return e(e.s=32678)}),_N_E=e.O()}]);