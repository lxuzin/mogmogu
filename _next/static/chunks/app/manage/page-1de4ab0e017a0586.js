(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[133],{66270:function(e,t,i){Promise.resolve().then(i.bind(i,63158))},63158:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return b}});var s=i(57437),n=i(2265),a=i(29222),l=i(33343),r=i(38227),d=i(16573),x=i(24235),o=i(50039),c=i(2047),h=i(83240),p=i(19223),j=i(86637),g=i(78295),f=i(39677),u=(0,j.z)({chartName:"BarChart",GraphicalChild:g.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:x.K},{axisType:"yAxis",AxisComp:o.B}],formatAxisMap:f.t9}),y=i(57703),m=i(28485),D=i(36612),v=i(61396),C=i.n(v),w=i(62601),b=function(){let[e,t]=(0,n.useState)([]),[i,j]=(0,n.useState)([]),[f,v]=(0,n.useState)({}),b=async()=>{try{let e=await a.Z.get(w.env.NEXT_PUBLIC_API_URL+"account"),i=e.data,s=new Date,n=new Date(s);n.setDate(s.getDate()-13);let l=new Date(s);l.setDate(s.getDate()-7);let r=new Date(s);r.setDate(s.getDate()-6);let d=i.filter(e=>{let t=new Date(e.date);return t>=n&&t<=l}),x=i.filter(e=>{let t=new Date(e.date);return t>=r&&t<=s});t(d),j(x)}catch(e){console.error("Error fetching data:",e)}};(0,n.useEffect)(()=>{b()},[]);let k=(e,t,i)=>{let s={},n=new Date(e),a=new Date(t);for(;n<=a;n.setDate(n.getDate()+1)){let e=n.toLocaleString("en-US",{weekday:"short"});if(s[e]){let t=i.filter(e=>new Date(e.date).getDate()===n.getDate());s[e].cost+=t.reduce((e,t)=>e+t.cost,0)}else{let t=i.filter(e=>new Date(e.date).getDate()===n.getDate());s[e]={cost:t.reduce((e,t)=>e+t.cost,0)}}}return s},L=k("2023-08-06","2023-08-13",e),T=k("2023-08-14","2023-08-20",i),A=Object.keys(L).map(e=>{var t,i;return{day:e,lastWeekCost:L[e].cost,thisWeekCost:(null===(t=T[e])||void 0===t?void 0:t.cost)||0,lastWeekDifference:(null===(i=T[e])||void 0===i?void 0:i.cost)-L[e].cost||0}}),S=(e,t)=>{v(A[t])},_=e.reduce((e,t)=>e+t.cost,0),E=i.reduce((e,t)=>e+t.cost,0),B=[{name:"A",식당:50,카페:30,취미여가:10,기타:10}],F=["식당","카페","취미여가","기타"],K=["#C998DC","#9EDC98","#98A7DC","#DC9898"],W=[{name:"목표 달성",value:60},{name:"미달성",value:40}],N=["#9319C3","#FFFFFF"];return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:(0,s.jsx)("h4",{style:{font:"initial",padding:"7px",marginTop:"8px"},children:" | 우리의 저축 및 절약 현황 보러가기"})}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{style:{backgroundColor:"rgba(201, 152, 220, 0.82)",width:"95%",height:"80px",borderRadius:"10px",margin:"10px",color:"white",display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)("div",{children:(0,s.jsx)(C(),{style:{textDecoration:"none"},href:"/manage/manage2",passHref:!0,children:(0,s.jsxs)("div",{className:"boxcontent",children:[(0,s.jsx)("div",{style:{marginLeft:"20px",color:"white",marginTop:"10px"},children:"일주년 기념 여행\uD83D\uDC96"}),(0,s.jsx)("div",{style:{marginLeft:"20px",color:"white",marginTop:"5px"},children:"23.08.17~23.08.31"}),(0,s.jsx)("div",{style:{marginLeft:"20px",color:"white",marginTop:"5px"},children:"목표 금액까지 400,000원!"})]})})}),(0,s.jsx)("div",{style:{position:"relative"},children:(0,s.jsx)(y.u,{width:80,height:80,children:(0,s.jsxs)(m.b,{data:W,dataKey:"value",cx:"50%",cy:"50%",innerRadius:27,outerRadius:30,startAngle:90,endAngle:-270,children:[W.map((e,t)=>(0,s.jsx)(D.b,{fill:N[t%N.length]},"cell-".concat(t))),(0,s.jsx)(l._,{value:"".concat(W[0].value,"%"),position:"center",style:{fontSize:"12px",font:"initial",fill:"black"}})]})})})]})}),(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)("img",{src:"/ahrm.png",alt:"",style:{marginLeft:"10px",width:"100px",height:"100px"}}),(0,s.jsx)("div",{style:{top:"150px",left:"120px",backgroundColor:"white",width:"340px",height:"70px",padding:"5px",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.1)",color:"black",font:"initial",marginLeft:"15px",marginTop:"10px"},children:(0,s.jsxs)("p",{style:{padding:"15px"},children:["현재 목표 달성 확률은 60%입니다!",(0,s.jsx)("br",{})," 절약 목표 달성을 위해 달려보아요\uD83C\uDFC3\uD83C\uDFC3"]})})]}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"8px",marginRight:"20px"},children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{font:"caption"},children:" 현재 우리의 저축 및 절약 현황이 궁금하다면 ? "}),(0,s.jsx)("h4",{style:{textDecoration:"underline",display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)(C(),{href:"/manage/spend",children:" 저축 및 절약 스케줄링 바로가기 ▶️ "})})]})}),(0,s.jsx)("hr",{}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{style:{font:"initial"},children:(0,s.jsxs)("p",{style:{marginTop:"8px"},children:[(0,s.jsx)("span",{children:" | 일주일 지출 "}),(0,s.jsx)("span",{style:{marginLeft:"70%"},children:" 지난주 대비 "}),(0,s.jsxs)("span",{style:{float:"right",color:E-_<0?"blue":"red"},children:[Math.abs(E-_).toLocaleString()," 원"," ",E-_<0?"\uD83D\uDD3D":"\uD83D\uDD3C"]})]})})}),(0,s.jsxs)(r.w,{width:495,height:270,data:A,margin:{top:8,right:30,left:12,bottom:10},children:[(0,s.jsx)(d.q,{strokeDasharray:"3 3"}),(0,s.jsx)(x.K,{dataKey:"day"}),(0,s.jsx)(o.B,{hide:!0}),(0,s.jsx)(c.u,{}),(0,s.jsx)(h.D,{}),(0,s.jsx)(p.x,{dataKey:"lastWeekCost",name:"Last Week",stroke:"lightgray",onClick:S}),(0,s.jsx)(p.x,{dataKey:"thisWeekCost",name:"This Week",stroke:"#C998DC",onClick:S})]})]}),(0,s.jsx)("hr",{}),(0,s.jsxs)("div",{style:{font:"initial"},children:[(0,s.jsx)("p",{children:" | 이번 달 지출 금액"}),(0,s.jsx)("p",{style:{marginLeft:"4px"},children:"◀️ 8월 ▶️"}),(0,s.jsxs)("p",{style:{marginLeft:"5px",marginBottom:"15px"},children:[(0,s.jsx)("span",{children:"총 383,000원"}),(0,s.jsx)("span",{style:{fontSize:"2px",color:"#9950B7",marginLeft:"15px"},children:"지난달 이맘때보다 95,300원 더 썼어요! "})]}),(0,s.jsxs)(u,{width:440,height:67,data:B,margin:{top:5,right:20,bottom:10},layout:"vertical",children:[(0,s.jsx)(d.q,{strokeDasharray:"3 3"}),(0,s.jsx)(x.K,{type:"number"}),(0,s.jsx)(o.B,{type:"category"}),(0,s.jsx)(c.u,{}),(0,s.jsx)(h.D,{}),F.map((e,t)=>(0,s.jsx)(g.$,{dataKey:e,stackId:"a",fill:K[t]},e))]}),(0,s.jsx)("div",{style:{font:"initial",padding:"25px",marginLeft:"110px"},children:(0,s.jsx)("table",{children:(0,s.jsx)("tbody",{children:F.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("span",{style:{display:"inline-block",width:"15px",height:"15px",backgroundColor:K[t]}})}),(0,s.jsxs)("td",{children:[(0,s.jsx)("span",{children:e}),(0,s.jsxs)("td",{style:{fontSize:"small"},children:[B[0][e],"%"]})]}),(0,s.jsxs)("td",{children:["식당"===e&&(0,s.jsx)("span",{style:{marginLeft:"90px"},children:"191,500원 "}),"카페"===e&&(0,s.jsx)("span",{style:{marginLeft:"90px"},children:"114,900원"}),"취미여가"===e&&(0,s.jsx)("span",{style:{marginLeft:"90px"},children:"38,300원"}),"기타"===e&&(0,s.jsx)("span",{style:{marginLeft:"90px"},children:"38,300원"})]})]},e))})})})]})]})}}},function(e){e.O(0,[396,637,566,703,971,596,744],function(){return e(e.s=66270)}),_N_E=e.O()}]);